!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("AITextDetector",[],t):"object"==typeof exports?exports.AITextDetector=t():e.AITextDetector=t()}(this,(()=>(()=>{"use strict";var e={42:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UIController=void 0;class n{constructor(){this.currentLang="ENG",this.translations={ENG:{title:"AI Text Detector",subtitle:"Analyze text for AI-generated content",banner:"Switch theme for better readability",prompt:"Enter or paste text to analyze:",placeholder:"Enter text here...",comparePlaceholder:"Enter text to compare...",analyze:"Analyze",compare:"Compare",export:"Export",share:"Share",clear:"Clear",tipsTitle:"Writing Tips",footer:"Â© 2024 AI Text Detector",noText:"Please enter some text to analyze",likelyAI:"Likely AI-generated",likelyHuman:"Likely human-written",aiLabel:"AI Probability:",offline:"You are currently offline. Some features may be limited.",online:"You are back online!"}},this.init()}init(){"undefined"!=typeof document&&document.addEventListener("DOMContentLoaded",(()=>{this.switchLang("ENG"),this.addThemeToggle(),this.loadThemePreference(),this.setupEventListeners(),this.addAccessibilityFeatures()}))}switchLang(e){this.currentLang=e;const t=this.translations[e];"undefined"!=typeof document&&(document.querySelector("h1").innerHTML=t.title,document.querySelector("header p").innerHTML=t.subtitle,document.querySelector(".theme-banner").innerHTML=t.banner,document.querySelector(".input-section p").innerHTML=t.prompt,document.getElementById("inputText").placeholder=t.placeholder,document.getElementById("compareText").placeholder=t.comparePlaceholder,document.getElementById("analyzeBtn").innerHTML=t.analyze,document.getElementById("compareBtn").innerHTML=t.compare,document.getElementById("exportBtn").innerHTML=t.export,document.getElementById("shareBtn").innerHTML=t.share,document.getElementById("clearBtn").innerHTML=t.clear,document.querySelector(".sidebar h3").innerHTML=t.tipsTitle,this.updateTips(t),document.querySelector("footer p").innerHTML=t.footer,this.updateThemeToggleText(),this.detectAI(),"undefined"!=typeof localStorage&&localStorage.setItem("aiDetectorLang",e))}updateTips(e){document.querySelectorAll(".tip")}updateThemeToggleText(){if("undefined"==typeof document)return;const e=document.getElementById("themeToggle"),t=document.documentElement.classList.contains("dark-theme");e.textContent=t?"â˜€ï¸":"ðŸŒ™",e.setAttribute("aria-label",t?"Switch to light theme":"Switch to dark theme")}toggleTheme(){if("undefined"==typeof document)return;const e=document.documentElement.classList.toggle("dark-theme");document.body.classList.toggle("dark-theme"),this.updateThemeToggleText(),"undefined"!=typeof localStorage&&localStorage.setItem("aiDetectorTheme",e?"dark":"light")}detectAI(){if("undefined"==typeof document)return;const e=document.getElementById("inputText").value.trim();if(!e)return document.getElementById("result").innerHTML=this.translations[this.currentLang].noText,document.getElementById("compareResult").innerHTML="",void this.clearStats();try{const t=(new window.AIDetector).analyzeTextDetailed(e),n=t.aiScore>50?this.translations[this.currentLang].likelyAI:this.translations[this.currentLang].likelyHuman;document.getElementById("result").innerHTML=`${this.translations[this.currentLang].aiLabel} ${t.aiScore}% - ${n}`,document.getElementById("compareResult").innerHTML="",this.updateStats(t),window.AIDetectorDebug?.config.enabled&&window.AIDetectorDebug.logger.info(`Analysis complete: Score ${t.aiScore}%`)}catch(e){document.getElementById("result").innerHTML="Error analyzing text: "+e.message,window.AIDetectorDebug?.config.enabled&&window.AIDetectorDebug.logger.error("Error in detectAI function:",e)}}clearStats(){document.querySelectorAll(".stat-value").forEach((e=>e.textContent="0")),document.getElementById("wordCount").textContent="0"}updateStats(e){document.getElementById("wordCount").textContent=e.wordCount.toString(),document.getElementById("sentenceCount").textContent=e.sentenceCount.toString(),e.metrics?.readabilityScore&&(document.getElementById("readability").textContent=e.metrics.readabilityScore.toString())}setupEventListeners(){"undefined"!=typeof document&&(document.getElementById("analyzeBtn").addEventListener("click",(()=>this.detectAI())),document.getElementById("clearBtn").addEventListener("click",(()=>{document.getElementById("inputText").value="",document.getElementById("result").innerHTML="",document.getElementById("compareResult").innerHTML="",this.clearStats()})),document.getElementById("themeToggle").addEventListener("click",(()=>this.toggleTheme())),document.getElementById("langSelect").addEventListener("change",(e=>this.switchLang(e.target.value))))}addThemeToggle(){if("undefined"==typeof document)return;const e=document.getElementById("themeToggle");e&&(e.setAttribute("role","button"),e.setAttribute("aria-label","Toggle theme"),this.updateThemeToggleText())}loadThemePreference(){"undefined"!=typeof localStorage&&"undefined"!=typeof document&&"dark"===localStorage.getItem("aiDetectorTheme")&&(document.documentElement.classList.add("dark-theme"),document.body.classList.add("dark-theme"),this.updateThemeToggleText())}addAccessibilityFeatures(){"undefined"!=typeof document&&(document.getElementById("inputText").setAttribute("aria-label","Text to analyze"),document.getElementById("analyzeBtn").setAttribute("aria-label","Analyze text"),document.getElementById("clearBtn").setAttribute("aria-label","Clear text"),document.getElementById("langSelect").setAttribute("aria-label","Select language"))}showOfflineMessage(){if("undefined"==typeof document)return;const e=document.createElement("div");e.className="offline-message",e.textContent=this.translations[this.currentLang].offline,document.body.appendChild(e)}showOnlineMessage(){if("undefined"==typeof document)return;const e=document.createElement("div");e.className="online-message",e.textContent=this.translations[this.currentLang].online,document.body.appendChild(e),setTimeout((()=>{e.remove()}),3e3)}}t.UIController=n,"undefined"!=typeof window&&(window.UIController=n)},72:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AIDetector=void 0;class n{constructor(){}analyzeText(e){return this.analyzeTextDetailed(e).aiScore}analyzeTextDetailed(e){if(!e.trim())return{aiScore:0,confidence:1,metrics:{},wordCount:0,sentenceCount:0,avgSentenceLength:0,uniqueWords:0,repetitionScore:0,sentenceLengthVariance:0,transitionPhrases:0,factors:{baseline:0,sentenceLength:0,vocabulary:0,variance:0,transitions:0,density:0}};const t=e.split(/[.!?]+/).filter((e=>e.trim().length>0)),n=e.split(/\s+/).filter((e=>e.length>0)),o=n.length,r=t.length,i=t.reduce(((e,t)=>e+t.split(" ").length),0)/r||0,a=new Set(n.map((e=>e.toLowerCase()))).size,c=(o-a)/o,l=t.map((e=>e.split(" ").length)).reduce(((e,t)=>e+Math.pow(t-i,2)),0)/r||0,s=["for example","in conclusion","finally","first","second","another","napÅ™Ã­klad","zÃ¡vÄ›rem","zum Beispiel","abschlieÃŸend","par exemple","en conclusion","por ejemplo","en conclusiÃ³n","Ð½Ð°Ð¿Ñ€Ð¸ÐºÐ»Ð°Ð´","Ð² Ð·Ð°ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ"].reduce(((t,n)=>t+(e.toLowerCase().split(n).length-1)),0);let d=20;i>8&&i<16&&(d+=25),c<.3&&(d+=20),l<15&&(d+=20),s>1&&(d+=20),o>100&&r<15&&(d+=15);const u=Math.min(Math.round(d),100),g={baseline:20,sentenceLength:i>8&&i<16?25:0,vocabulary:c<.3?20:0,variance:l<15?20:0,transitions:s>1?20:0,density:o>100&&r<15?15:0};return{aiScore:u,confidence:Object.values(g).filter((e=>e>0)).length/Object.keys(g).length,metrics:{wordCount:o,sentenceCount:r,avgSentenceLength:i,uniqueWords:a,repetitionScore:c,sentenceLengthVariance:l,transitionPhrases:s},wordCount:o,sentenceCount:r,avgSentenceLength:i,uniqueWords:a,repetitionScore:c,sentenceLengthVariance:l,transitionPhrases:s,factors:g}}analyzeSentiment(e){const t=["good","great","excellent","happy","wonderful"],n=["bad","terrible","horrible","sad","awful"],o=e.toLowerCase().split(/\s+/),r=o.filter((e=>t.includes(e))),i=o.filter((e=>n.includes(e))),a=(r.length-i.length)/o.length;return{score:a,sentiment:a>0?"positive":a<0?"negative":"neutral",confidence:Math.abs(a),positiveWords:r,negativeWords:i}}calculateAdvancedReadability(e){const t=e.split(/\s+/).filter((e=>e.length>0)),n=e.split(/[.!?]+/).filter((e=>e.trim().length>0)),o=t.length,r=n.length,i=t.reduce(((e,t)=>e+(t.match(/[aeiouy]+/gi)?.length||1)),0),a=206.835-o/r*1.015-i/o*84.6,c=.4*(o/r+i/o*100),l=1.043*Math.sqrt(i*(30/r))+3.1291,s=i/o*4.71+o/r*.5-21.43;return{fleschKincaid:Math.round(10*a)/10,gunningFog:Math.round(10*c)/10,smog:Math.round(10*l)/10,automatedReadability:Math.round(10*s)/10}}compareTexts(e,t){const n=this.analyzeTextDetailed(e),o=this.analyzeTextDetailed(t);return{text1Score:n.aiScore,text2Score:o.aiScore,text1Analysis:n,text2Analysis:o}}findRepeatingWords(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;const n=e.split(/\s+/).filter((e=>e.length>0)),o={};return n.forEach((e=>{const t=e.toLowerCase();o[t]=(o[t]||0)+1})),Object.entries(o).filter((e=>{let[n,o]=e;return o>=t})).sort(((e,t)=>t[1]-e[1]))}highlightAIText(e){const t=(e.match(/([^.!?]+[.!?]+)/g)||[]).map((e=>{const t=this.analyzeTextDetailed(e);return{text:e,score:t.aiScore,isLikelyAI:t.aiScore>60}}));return{highlightedText:t.map((e=>e.isLikelyAI?`<span class="ai-highlight" data-score="${e.score}">${e.text}</span>`:e.text)).join(""),sentences:t}}}t.AIDetector=n,"undefined"!=typeof window&&(window.AIDetector=n)},75:(e,t,n)=>{n.r(t)},164:()=>{const e={enabled:!1,logLevel:"info",showTimestamps:!0,traceAIDetection:!1,traceDOMEvents:!1,performanceMonitoring:!1,visualizeAlgorithm:!1},t={error:function(t,n){if(!e.enabled)return;const o=e.showTimestamps?`[${(new Date).toISOString()}] [ERROR] `:"[ERROR] ";console.error(o+t,void 0!==n?n:"")},warn:function(t,n){if(!e.enabled||!["warn","info","debug","verbose"].includes(e.logLevel))return;const o=e.showTimestamps?`[${(new Date).toISOString()}] [WARN] `:"[WARN] ";console.warn(o+t,void 0!==n?n:"")},info:function(t,n){if(!e.enabled||!["info","debug","verbose"].includes(e.logLevel))return;const o=e.showTimestamps?`[${(new Date).toISOString()}] [INFO] `:"[INFO] ";console.info(o+t,void 0!==n?n:"")},debug:function(t,n){if(!e.enabled||!["debug","verbose"].includes(e.logLevel))return;const o=e.showTimestamps?`[${(new Date).toISOString()}] [DEBUG] `:"[DEBUG] ";console.debug(o+t,void 0!==n?n:"")},verbose:function(t,n){if(!e.enabled||"verbose"!==e.logLevel)return;const o=e.showTimestamps?`[${(new Date).toISOString()}] [VERBOSE] `:"[VERBOSE] ";console.debug(o+t,void 0!==n?n:"")},group:function(t){e.enabled&&console.group(t)},groupEnd:function(){e.enabled&&console.groupEnd()},table:function(t){e.enabled&&console.table(t)}},n={timers:{},startTimer:function(n){e.enabled&&e.performanceMonitoring&&(this.timers[n]=performance.now(),t.debug(`Timer started: ${n}`))},endTimer:function(n){if(!e.enabled||!e.performanceMonitoring||!this.timers[n])return;const o=performance.now()-this.timers[n];return t.info(`Timer ${n}: ${o.toFixed(2)}ms`),delete this.timers[n],o},measure:function(t,n){if(!e.enabled||!e.performanceMonitoring)return n();this.startTimer(t);const o=n();return this.endTimer(t),o}},o={traceAnalysis:function(n,o){e.enabled&&e.traceAIDetection&&(t.group("AI Detection Analysis"),t.info("Text length: "+n.length+" characters"),t.info("Word count: "+o.wordCount),t.info("Sentence count: "+o.sentenceCount),t.info("Average sentence length: "+o.avgSentenceLength.toFixed(2)+" words"),t.info("Unique words ratio: "+(o.uniqueWords/o.wordCount).toFixed(2)),t.info("Sentence length variance: "+o.sentenceLengthVariance.toFixed(2)),t.info("Transition phrases count: "+o.transitionPhrases),t.debug("Score components:",{baseline:20,sentenceLength:o.avgSentenceLength>8&&o.avgSentenceLength<16?25:0,repetition:o.repetitionScore<.3?20:0,variance:o.sentenceLengthVariance<15?20:0,transitions:o.transitionPhrases>1?20:0,textLength:o.wordCount>100&&o.sentenceCount<15?15:0}),t.info("Final AI score: "+o.aiScore+"%"),t.groupEnd())},visualizeResults:function(n){if(!e.enabled||!e.visualizeAlgorithm)return;const o=[{name:"Baseline",value:20},{name:"Sentence Length",value:n.avgSentenceLength>8&&n.avgSentenceLength<16?25:0},{name:"Repetition",value:n.repetitionScore<.3?20:0},{name:"Variance",value:n.sentenceLengthVariance<15?20:0},{name:"Transitions",value:n.transitionPhrases>1?20:0},{name:"Text Length",value:n.wordCount>100&&n.sentenceCount<15?15:0}];t.table(o)}},r={init:function(){if(!e.enabled||!e.traceDOMEvents)return;const n="button, input, select, textarea, form";document.addEventListener("click",(e=>{if(e.target.matches(n)){const n=this.getElementInfo(e.target);t.debug(`Click event on ${n}`)}}),!0),document.addEventListener("input",(e=>{if(e.target.matches(n)){const n=this.getElementInfo(e.target);t.verbose(`Input event on ${n}`)}}),!0),document.addEventListener("change",(e=>{if(e.target.matches(n)){const n=this.getElementInfo(e.target),o="password"===e.target.type?"********":e.target.value;t.debug(`Change event on ${n}, value: ${o}`)}}),!0),document.addEventListener("submit",(e=>{const n=this.getElementInfo(e.target);t.info(`Form submission: ${n}`)}),!0),t.info("DOM event tracing initialized")},getElementInfo:function(e){let t=e.tagName.toLowerCase();return e.id&&(t+=`#${e.id}`),e.className&&(t+=`.${e.className.replace(/\s+/g,".")}`),t}},i={init:function(){e.enabled&&(window.addEventListener("error",(e=>{t.error(`Uncaught error: ${e.message}`,{filename:e.filename,lineno:e.lineno,colno:e.colno,error:e.error})})),window.addEventListener("unhandledrejection",(e=>{t.error(`Unhandled promise rejection: ${e.reason}`,e.reason)})),t.info("Error tracking initialized"))},trackTry:function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Error in function execution";try{return e()}catch(e){return t.error(`${n}: ${e.message}`,e),null}}},a={init:function(){this.isDebugMode()&&(this.createDebugPanel(),e.enabled=!0,t.info("Debug mode activated"),i.init(),r.init())},isDebugMode:function(){return window.location.hash.includes("debug")||"true"===localStorage.getItem("aiDetectorDebug")},createDebugPanel:function(){const n=document.createElement("div");n.id="debug-panel",n.style.cssText="\n      position: fixed;\n      bottom: 0;\n      right: 0;\n      width: 300px;\n      background: rgba(0, 0, 0, 0.8);\n      color: #00ff00;\n      font-family: monospace;\n      font-size: 12px;\n      padding: 10px;\n      z-index: 9999;\n      max-height: 400px;\n      overflow-y: auto;\n      border-top-left-radius: 5px;\n    ";const o=document.createElement("div");o.innerHTML='<h3 style="margin: 0 0 10px 0; color: #fff;">AI Detector Debug Panel</h3>',n.appendChild(o);const i=document.createElement("div");i.style.margin="5px 0",i.innerHTML='\n      <label for="debug-log-level">Log Level: </label>\n      <select id="debug-log-level">\n        <option value="error">Error</option>\n        <option value="warn">Warning</option>\n        <option value="info" selected>Info</option>\n        <option value="debug">Debug</option>\n        <option value="verbose">Verbose</option>\n      </select>\n    ',n.appendChild(i);const a=document.createElement("div");a.style.margin="5px 0";const c=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const o=document.createElement("div");return o.innerHTML=`\n        <input type="checkbox" id="${e}" ${n?"checked":""}>\n        <label for="${e}">${t}</label>\n      `,o};a.appendChild(c("debug-timestamps","Show Timestamps",!0)),a.appendChild(c("debug-trace-ai","Trace AI Detection")),a.appendChild(c("debug-trace-dom","Trace DOM Events")),a.appendChild(c("debug-performance","Performance Monitoring")),a.appendChild(c("debug-visualize","Visualize Algorithm")),n.appendChild(a);const l=document.createElement("button");l.textContent="Apply Settings",l.style.cssText="\n      background: #00aa00;\n      color: white;\n      border: none;\n      padding: 5px 10px;\n      margin: 5px 0;\n      cursor: pointer;\n      border-radius: 3px;\n    ",n.appendChild(l);const s=document.createElement("button");s.textContent="Close Panel",s.style.cssText="\n      background: #aa0000;\n      color: white;\n      border: none;\n      padding: 5px 10px;\n      margin: 5px 0 5px 5px;\n      cursor: pointer;\n      border-radius: 3px;\n    ",n.appendChild(s),document.body.appendChild(n),l.addEventListener("click",(()=>{e.logLevel=document.getElementById("debug-log-level").value,e.showTimestamps=document.getElementById("debug-timestamps").checked,e.traceAIDetection=document.getElementById("debug-trace-ai").checked,e.traceDOMEvents=document.getElementById("debug-trace-dom").checked,e.performanceMonitoring=document.getElementById("debug-performance").checked,e.visualizeAlgorithm=document.getElementById("debug-visualize").checked,localStorage.setItem("aiDetectorDebugConfig",JSON.stringify(e)),t.info("Debug settings updated",e),e.traceDOMEvents&&r.init()})),s.addEventListener("click",(()=>{n.style.display="none"}));const d=localStorage.getItem("aiDetectorDebugConfig");if(d)try{const t=JSON.parse(d);document.getElementById("debug-log-level").value=t.logLevel||"info",document.getElementById("debug-timestamps").checked=!1!==t.showTimestamps,document.getElementById("debug-trace-ai").checked=!!t.traceAIDetection,document.getElementById("debug-trace-dom").checked=!!t.traceDOMEvents,document.getElementById("debug-performance").checked=!!t.performanceMonitoring,document.getElementById("debug-visualize").checked=!!t.visualizeAlgorithm,Object.assign(e,t)}catch(e){console.error("Error loading debug settings",e)}}};function c(e){const t=e.split(/[.!?]+/).filter((e=>e.trim().length>0)),n=e.split(/\s+/).filter((e=>e.length>0)),o=t.reduce(((e,t)=>e+t.split(" ").length),0)/t.length||0,r=n.length,i=new Set(n.map((e=>e.toLowerCase()))).size,a=(r-i)/r,c=t.map((e=>e.split(" ").length)).reduce(((e,t,n,r)=>e+Math.pow(t-o,2)),0)/t.length||0,l=["for example","in conclusion","finally","first","second","another","napÅ™Ã­klad","zÃ¡vÄ›rem"].reduce(((t,n)=>t+(e.toLowerCase().split(n).length-1)),0);let s=20;return o>8&&o<16&&(s+=25),a<.3&&(s+=20),c<15&&(s+=20),l>1&&(s+=20),r>100&&t.length<15&&(s+=15),{aiScore:Math.min(Math.round(s),100),wordCount:r,sentenceCount:t.length,avgSentenceLength:o,uniqueWords:i,repetitionScore:a,sentenceLengthVariance:c,transitionPhrases:l}}document.addEventListener("DOMContentLoaded",(()=>{a.init()})),window.AIDetectorDebug={logger:t,performance:n,errorTracker:i,aiTracer:o,domTracer:r,config:e,analyzeText:function(t){return e.enabled&&e.performanceMonitoring?n.measure("analyzeText",(()=>{const n=c(t);return e.traceAIDetection&&(o.traceAnalysis(t,n),e.visualizeAlgorithm&&o.visualizeResults(n)),n.aiScore})):c(t).aiScore},enable:function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.enabled=!0,Object.assign(e,n),localStorage.setItem("aiDetectorDebug","true"),localStorage.setItem("aiDetectorDebugConfig",JSON.stringify(e)),t.info("Debug mode enabled programmatically",e),i.init(),e.traceDOMEvents&&r.init()},disable:function(){e.enabled=!1,localStorage.removeItem("aiDetectorDebug"),console.info("Debug mode disabled")}}},222:(e,t,n)=>{n.r(t)},460:(e,t,n)=>{n.r(t)},518:e=>{const t={getElement:function(e){const t=document.getElementById(e);return!t&&window.AIDetectorDebug&&window.AIDetectorDebug.config.enabled&&window.AIDetectorDebug.logger.warn(`Element with ID "${e}" not found`),t},createElement:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const o=document.createElement(e);return Object.entries(t).forEach((e=>{let[t,n]=e;"class"===t||"className"===t?o.className=n:"style"===t&&"object"==typeof n?Object.entries(n).forEach((e=>{let[t,n]=e;o.style[t]=n})):o.setAttribute(t,n)})),null!==n&&("string"==typeof n?o.innerHTML=n:n instanceof HTMLElement?o.appendChild(n):Array.isArray(n)&&n.forEach((e=>{"string"==typeof e?o.innerHTML+=e:e instanceof HTMLElement&&o.appendChild(e)}))),o},formatPercent:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.toFixed(t)+"%"},storeData:function(e,t){try{const n="object"==typeof t?JSON.stringify(t):String(t);return localStorage.setItem(e,n),!0}catch(e){return window.AIDetectorDebug&&window.AIDetectorDebug.config.enabled&&window.AIDetectorDebug.logger.error(`Error storing data: ${e.message}`),!1}},retrieveData:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{const n=localStorage.getItem(e);if(null===n)return t;try{return JSON.parse(n)}catch{return n}}catch(e){return window.AIDetectorDebug&&window.AIDetectorDebug.config.enabled&&window.AIDetectorDebug.logger.error(`Error retrieving data: ${e.message}`),t}},debounce:function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return function(){for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];clearTimeout(t),t=setTimeout((()=>e.apply(this,r)),n)}},copyToClipboard:async function(e){try{return await navigator.clipboard.writeText(e),!0}catch(t){window.AIDetectorDebug&&window.AIDetectorDebug.config.enabled&&window.AIDetectorDebug.logger.error(`Error copying to clipboard: ${t.message}`);try{const t=document.createElement("textarea");return t.value=e,t.style.position="fixed",t.style.opacity="0",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),!0}catch{return!1}}},formatDate:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US";return new Date(e).toLocaleDateString(t,{year:"numeric",month:"short",day:"numeric"})},isMobileDevice:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},getUserLanguage:function(){const e=this.retrieveData("aiDetectorLang");if(e)return e;const t=navigator.language||navigator.userLanguage;return t&&{EN:"ENG",CS:"CZE",DE:"DE",FR:"FR",ES:"ES",UK:"UK",RU:"RU"}[t.split("-")[0].toUpperCase()]||"ENG"},generateId:function(){return"id_"+Math.random().toString(36).substr(2,9)},safeJsonParse:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return JSON.parse(e)}catch(e){return window.AIDetectorDebug&&window.AIDetectorDebug.config.enabled&&window.AIDetectorDebug.logger.error(`Error parsing JSON: ${e.message}`),t}},isFeatureSupported:function(e){return{localStorage:"undefined"!=typeof localStorage,clipboard:navigator&&navigator.clipboard,serviceWorker:"serviceWorker"in navigator,webShare:navigator&&navigator.share,darkMode:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches}[e]||!1}};e.exports?e.exports=t:window.AIUtils=t}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};return(()=>{var e=o;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(72),r=n(42),i=n(518);let a;function c(){const e=localStorage.getItem("theme")||"dark";document.documentElement.setAttribute("data-theme",e),l(e)}function l(e){const t=document.querySelector("#themeToggle i");t&&(t.className="dark"===e?"fas fa-sun":"fas fa-moon")}function s(){const e="dark"===document.documentElement.getAttribute("data-theme")?"light":"dark";document.documentElement.setAttribute("data-theme",e),localStorage.setItem("theme",e),l(e)}async function d(){try{await async function(){try{a=await new Promise(((e,t)=>{const n=indexedDB.open("AIDetectorDB",1);n.onerror=()=>t(n.error),n.onsuccess=()=>e(n.result),n.onupgradeneeded=e=>{const t=e.target.result;t.objectStoreNames.contains("pending")||t.createObjectStore("pending",{keyPath:"id"}),t.objectStoreNames.contains("results")||t.createObjectStore("results",{keyPath:"id"})}})),console.log("IndexedDB initialized")}catch(e){console.error("Error initializing IndexedDB:",e)}}(),c();const e=document.getElementById("themeToggle");e&&e.addEventListener("click",s);const n=new r.UIController,o=new t.AIDetector;window.AIDetectorDebug&&window.AIDetectorDebug.init();const d=i.Utils.getUserLanguage(),g=document.getElementById("langSelect");g&&(g.value=d),n.switchLang(d),function(){const e=document.getElementById("inputText");if(!e)return;const t=i.Utils.debounce((async()=>{if(e.value.trim().length>50)try{const t=await u(e.value);(new r.UIController).displayResults(t)}catch(e){console.error("Error in real-time analysis:",e)}}),1e3);e.addEventListener("input",t)}(),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(localStorage.getItem("theme")||(document.documentElement.setAttribute("data-theme","dark"),localStorage.setItem("theme","dark"),l("dark")));const m=document.getElementById("analyzeBtn");m&&m.addEventListener("click",(async()=>{const e=document.getElementById("inputText").value;try{const t=await u(e);n.displayResults(t)}catch(e){console.error("Error analyzing text:",e),n.showError("Error analyzing text. Please try again.")}}));const h=document.getElementById("compareBtn");h&&h.addEventListener("click",(()=>{const e=document.getElementById("inputText").value,t=document.getElementById("compareText").value,r=o.compareTexts(e,t);n.displayCompareResults(r)})),console.log("AI Text Detector initialized successfully")}catch(e){console.error("Error initializing application:",e),document.body.innerHTML="<h1>Error loading application. Please try refreshing the page.</h1>"}}async function u(e){if(!navigator.onLine)throw new Error("Offline");return(new t.AIDetector).analyzeTextDetailed(e)}n(164),n(75),n(460),n(222),"serviceWorker"in navigator&&window.addEventListener("load",(()=>{navigator.serviceWorker.register("/service-worker.js").then((e=>{console.log("ServiceWorker registration successful"),e.addEventListener("updatefound",(()=>{const t=e.installing;t.addEventListener("statechange",(()=>{"installed"===t.state&&navigator.serviceWorker.controller&&confirm("New version available! Reload to update?")&&window.location.reload()}))}))})).catch((e=>{console.error("ServiceWorker registration failed:",e)}))})),document.addEventListener("DOMContentLoaded",d);const g={firstPaint:0,firstContentfulPaint:0,domInteractive:0,loadComplete:0};new PerformanceObserver((e=>{for(const t of e.getEntries())"first-paint"===t.name&&(g.firstPaint=t.startTime),"first-contentful-paint"===t.name&&(g.firstContentfulPaint=t.startTime)})).observe({entryTypes:["paint"]}),window.addEventListener("DOMContentLoaded",(()=>{g.domInteractive=performance.now()})),window.addEventListener("load",(()=>{g.loadComplete=performance.now(),console.log("Performance Metrics:",{"First Paint":Math.round(g.firstPaint)+"ms","First Contentful Paint":Math.round(g.firstContentfulPaint)+"ms","DOM Interactive":Math.round(g.domInteractive)+"ms","Load Complete":Math.round(g.loadComplete)+"ms"})})),function(){[{rel:"preload",as:"style",href:"/main.css"},{rel:"preload",as:"script",href:"/ai-detector.js"},{rel:"preload",as:"font",href:"/fonts/main-font.woff2",crossorigin:"anonymous"}].forEach((e=>{const t=document.createElement("link");Object.assign(t,e),document.head.appendChild(t)}));const e=new IntersectionObserver((t=>{t.forEach((t=>{t.isIntersecting&&(function(e){const t=JSON.parse(e),n=document.createElement("script"===t.type?"script":"link");"script"===t.type?(n.src=t.src,n.async=!0):(n.rel="stylesheet",n.href=t.href,t.media&&(n.media=t.media)),document.head.appendChild(n)}(t.target.dataset.resource),e.unobserve(t.target))}))}));[{type:"script",src:"/analytics.js"},{type:"script",src:"/feedback.js"},{type:"style",href:"/print.css",media:"print"}].forEach((t=>{const n=document.createElement("div");n.dataset.resource=JSON.stringify(t),document.body.appendChild(n),e.observe(n)}))}();const m={initApp:d,initTheme:c,toggleTheme:s,analyzeText:u,Utils:i.Utils,AIDetector:t.AIDetector,UIController:r.UIController};"undefined"!=typeof window&&(window.AITextDetector=m,window.initApp=d),e.default=m})(),o})()));