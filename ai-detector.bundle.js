!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("AITextDetector",[],t):"object"==typeof exports?exports.AITextDetector=t():e.AITextDetector=t()}(this,(()=>(()=>{"use strict";var e={};return(()=>{var t=e;Object.defineProperty(t,"__esModule",{value:!0}),t.AIDetector=void 0;class n{constructor(){}analyzeText(e){return this.analyzeTextDetailed(e).aiScore}analyzeTextDetailed(e){if(!e.trim())return{aiScore:0,confidence:1,metrics:{},wordCount:0,sentenceCount:0,avgSentenceLength:0,uniqueWords:0,repetitionScore:0,sentenceLengthVariance:0,transitionPhrases:0,factors:{baseline:0,sentenceLength:0,vocabulary:0,variance:0,transitions:0,density:0}};const t=e.split(/[.!?]+/).filter((e=>e.trim().length>0)),n=e.split(/\s+/).filter((e=>e.length>0)),i=n.length,r=t.length,o=t.reduce(((e,t)=>e+t.split(" ").length),0)/r||0,a=new Set(n.map((e=>e.toLowerCase()))).size,s=(i-a)/i,c=t.map((e=>e.split(" ").length)).reduce(((e,t)=>e+Math.pow(t-o,2)),0)/r||0,l=["for example","in conclusion","finally","first","second","another","například","závěrem","zum Beispiel","abschließend","par exemple","en conclusion","por ejemplo","en conclusión","наприклад","в заключение"].reduce(((t,n)=>t+(e.toLowerCase().split(n).length-1)),0);let h=20;o>8&&o<16&&(h+=25),s<.3&&(h+=20),c<15&&(h+=20),l>1&&(h+=20),i>100&&r<15&&(h+=15);const d=Math.min(Math.round(h),100),u={baseline:20,sentenceLength:o>8&&o<16?25:0,vocabulary:s<.3?20:0,variance:c<15?20:0,transitions:l>1?20:0,density:i>100&&r<15?15:0};return{aiScore:d,confidence:Object.values(u).filter((e=>e>0)).length/Object.keys(u).length,metrics:{wordCount:i,sentenceCount:r,avgSentenceLength:o,uniqueWords:a,repetitionScore:s,sentenceLengthVariance:c,transitionPhrases:l},wordCount:i,sentenceCount:r,avgSentenceLength:o,uniqueWords:a,repetitionScore:s,sentenceLengthVariance:c,transitionPhrases:l,factors:u}}analyzeSentiment(e){const t=["good","great","excellent","happy","wonderful"],n=["bad","terrible","horrible","sad","awful"],i=e.toLowerCase().split(/\s+/),r=i.filter((e=>t.includes(e))),o=i.filter((e=>n.includes(e))),a=(r.length-o.length)/i.length;return{score:a,sentiment:a>0?"positive":a<0?"negative":"neutral",confidence:Math.abs(a),positiveWords:r,negativeWords:o}}calculateAdvancedReadability(e){const t=e.split(/\s+/).filter((e=>e.length>0)),n=e.split(/[.!?]+/).filter((e=>e.trim().length>0)),i=t.length,r=n.length,o=t.reduce(((e,t)=>e+(t.match(/[aeiouy]+/gi)?.length||1)),0),a=206.835-i/r*1.015-o/i*84.6,s=.4*(i/r+o/i*100),c=1.043*Math.sqrt(o*(30/r))+3.1291,l=o/i*4.71+i/r*.5-21.43;return{fleschKincaid:Math.round(10*a)/10,gunningFog:Math.round(10*s)/10,smog:Math.round(10*c)/10,automatedReadability:Math.round(10*l)/10}}compareTexts(e,t){const n=this.analyzeTextDetailed(e),i=this.analyzeTextDetailed(t);return{text1Score:n.aiScore,text2Score:i.aiScore,text1Analysis:n,text2Analysis:i}}findRepeatingWords(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;const n=e.split(/\s+/).filter((e=>e.length>0)),i={};return n.forEach((e=>{const t=e.toLowerCase();i[t]=(i[t]||0)+1})),Object.entries(i).filter((e=>{let[n,i]=e;return i>=t})).sort(((e,t)=>t[1]-e[1]))}highlightAIText(e){const t=(e.match(/([^.!?]+[.!?]+)/g)||[]).map((e=>{const t=this.analyzeTextDetailed(e);return{text:e,score:t.aiScore,isLikelyAI:t.aiScore>60}}));return{highlightedText:t.map((e=>e.isLikelyAI?`<span class="ai-highlight" data-score="${e.score}">${e.text}</span>`:e.text)).join(""),sentences:t}}}t.AIDetector=n,"undefined"!=typeof window&&(window.AIDetector=n)})(),e})()));